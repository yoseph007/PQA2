"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3053],{3053:function(e,n,i){i.d(n,{YZ:function(){return u},q$:function(){return p},z$:function(){return g}});var o=i(30947),t=i(14448),a=i(7653),r=i(77879),s=i(5362),l=i(8571),d=i(50862),c=i(27218),_=i(91447);let v={snippets_command_used:{version:1},file_upload_too_large:{version:1},sse_interrupted:{version:1},snippets_suggestion_selected:{version:1},payment_modal_open:{version:1},pro_waitlist_requested:{version:1},payment_state_poll_for_invoice:{version:1},payment_state_poll_for_payment:{version:1},payment_state_poll_for_capability:{version:1},payment_state_payment_requires_confirmation:{version:1},payment_state_payment_failed:{version:1},payment_state_success:{version:1},payment_state_timed_out:{version:1},"onboarding.phone_verification.start":{version:1},"onboarding.phone_verification.sent_code":{version:1},"onboarding.phone_verification.invalid_code":{version:1},"onboarding.phone_verification.verified_code":{version:1},"onboarding.age_verification.start":{version:1},"onboarding.age_verification.complete":{version:1},"onboarding.name_input.started":{version:1},"onboarding.name_input.finished":{version:1},"onboarding.acceptable_use.started":{version:1},"onboarding.acceptable_use.finished":{version:1},"onboarding.disclaimers.started":{version:1},"onboarding.disclaimers.finished":{version:1},"onboarding.completed":{version:1},"extended_onboarding.started":{version:1},"extended_onboarding.disclaimer.completed":{version:1},"extended_onboarding.name_input.completed":{version:1},"extended_onboarding.work_function.completed":{version:1},"extended_onboarding.drive_integration.started":{version:1},"extended_onboarding.drive_integration.skipped":{version:1},"extended_onboarding.drive_integration.completed":{version:1},"extended_onboarding.topics.completed":{version:1},"extended_onboarding.example_prompts.completed":{version:1},"extended_onboarding.completed":{version:1},"pro_subscription.upgraded_to_annual":{version:1},"chat.conversation.first_conversation_created":{version:1},"chat.conversation.too_long_prompt:loaded":{version:1},"chat.conversation.too_long_prompt:accepted":{version:1},"chat.conversation.too_long_prompt:dismissed":{version:1},"chat.conversation.too_long_prompt_warning:loaded":{version:1},"chat.conversation.too_long_prompt_warning:accepted":{version:1},"chat.conversation.too_long_prompt_warning:dismissed":{version:1},"chat.share.button.clicked":{version:1},"chat.share.modal.share_button.clicked":{version:1},"chat.share.modal.unshare_button.clicked":{version:1},"chat.share.open_link.clicked":{version:1},"chat.share.copy_link.clicked":{version:1},"ts.eu_election_banner.shown":{version:1,data_team_tag:"ts"},"ts.banner.shown":{version:1,data_team_tag:"ts"},"billing.credit_card.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.completed":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire_manual.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.completed":{version:1,data_team_tag:"billing_funnel"},"console.feedback.opened":{version:1},"console.feedback.submitted":{version:1},"evals.revision.created":{version:1},"evals.show_prompt_preview.toggled":{version:1},"evals.show_golden_answers.toggled":{version:1},"evals.run_all.submitted":{version:1},"evals.run_all.stopped":{version:1},"evals.test_case.run.submitted":{version:1},"evals.test_case.run.completed":{version:1},"evals.test_case.run.failed":{version:1},"evals.test_case.create.submitted":{version:1},"evals.test_case.delete.submitted":{version:1},"evals.select_revision.clicked":{version:1},"evals.test_case.update_rating.submitted":{version:1},"evals.test_case.import.show_modal.clicked":{version:1},"evals.test_case.import.browse.clicked":{version:1},"evals.test_case.import.success":{version:1},"evals.comparison.add_button.clicked":{version:1},"evals.comparison.remove_button.clicked":{version:1},"evals.comparison.other_revision.selected":{version:1},"test_case_generator.generate.started":{version:1},"test_case_generator.edit_logic.clicked":{version:1},"metaprompter.modal.loaded":{version:2},"metaprompter.example.selected":{version:1},"metaprompter.generate.started":{version:1},"metaprompter.generate.stop.attempted":{version:1},"metaprompter.generate.finished":{version:1},"metaprompter.start_editing.clicked":{version:1},"onboarding.invite_accept_page.invite_accept.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.invite_reject.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.submitted":{version:1,data_team_tag:"onboarding_funnel"},"workbench.prompt.new":{version:1},"workbench.completion.started":{version:2},"workbench.completion.finished":{version:2},"workbench.completion_stream.started":{version:1},"workbench.completion_stream.finished":{version:1},"workbench.tab_selection.clicked":{version:1},"workbench.variables_pane.loaded":{version:1},"workbench.examples.pane.loaded":{version:1},"workbench.examples.example.added":{version:2},"workbench.examples.example.deleted":{version:1},"workbench.examples.converted_to_raw_text":{version:1},"workbench.code_modal.opened":{version:1},"workbench.code_modal.code_copied":{version:1},"claudeai.projects.list_view.switched":{version:1},"claudeai.artifacts.execution.error":{version:1},"claudeai.conversation.suggestion.applied":{version:1},"claudeai.conversation.recent.opened":{version:1},"claudeai.projects.activity.shared_conversation.opened":{version:1},"claudeai.projects.project_starter.clicked":{version:1},"claudeai.projects.chat_starter.clicked":{version:1},"claudeai.conversation.artifact.vscode_exported":{version:1},"claudeai.settings.preview_feature.toggled":{version:1},"claudeai.settings.preview_feature.opened":{version:1},"claudeai.support.opened":{version:1},"claudeai.get_help.clicked":{version:1},"claudeai.conversation.feedback.sent":{version:1},"claudeai.conversation.setting.toggled":{version:1},"claudeai.thinking_cell.clicked":{version:1},"ccos.chatsuggestion.clicked":{version:1},"ccos.chatsuggestions.loaded":{version:1},"ccos.chatsuggestions.feedback":{version:1},"styles.selector.clicked":{version:1},"styles.modal":{version:1},"styles.nux.create_clicked":{version:1},"styles.custom.create_clicked":{version:1},"styles.custom.describe_clicked":{version:1},"styles.custom.describe_selected":{version:1},"styles.selected":{version:1},"artifact.feedback.sentiment":{version:1},"artifact.feedback.note":{version:1},"mcp.servers.listed":{version:1},"mcp.servers.connected":{version:1},"mcp.resources.listed":{version:1},"mcp.resources.read":{version:1},"mcp.prompts.listed":{version:1},"mcp.prompts.used":{version:1},"mcp.tools.listed":{version:1},"mcp.tools.called":{version:1},"mcp.sampling.requested":{version:1},"harmony.file.saved":{version:1},"harmony.suggestion.accepted":{version:1},"harmony.suggestion.rejected":{version:1},"hfi.comparative_model.selected":{version:1},"hfi.comparative_model.selection_cleared":{version:1},"hfi.comparative_model.streaming.started":{version:1},"hfi.comparative_model.streaming.finished":{version:1},"hfi.comparative_model.feedback_bar.switch_response.clicked":{version:1},"hfi.comparative_model.feedback_bar.prefer_response.clicked":{version:1},"apps.download_button_clicked":{version:1},"apps.nudge_banner_shown":{version:1},"apps.nudge_banner_clicked":{version:1},"apps.harmony_directory_synced":{version:1},"console.onboarding.name_and_legal.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.name_and_legal.submitted":{version:1,data_team_tag:"onboarding_funnel"},"tengu.waitlist.update":{version:1},"tengu.waitlist.details":{version:1},"oauth.authorize.approved":{version:1},"oauth.authorize.denied":{version:1},"oauth.authorize.success":{version:1},"oauth.authorize.failure":{version:1},"console.onboarding.account_type.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.individual_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.organization_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.submitted":{version:1,data_team_tag:"onboarding_funnel"},"login.email.sending_magic_link":{version:1},"login.email.magic_link_sent":{version:1},"login.email.magic_link_send_error":{version:1},"login.email.verifying_magic_link":{version:1},"login.email.magic_link_success":{version:1},"login.email.magic_link_verification_error":{version:1},"login.email.sso_initiated":{version:1},"login.email.sso_success":{version:1},"login.email.sso_verifying_callback":{version:1},"login.email.sso_verification_error":{version:1},"login.email.verifying_code":{version:1},"login.email.code_verification_error":{version:1},"login.email.finished":{version:1},"login.google.started":{version:1},"login.google.error":{version:1},"login.google.verifying":{version:1},"login.google.verification_error":{version:1},"login.google.finished":{version:1},"landing.section.features.viewed":{version:1},"landing.section.pricing.viewed":{version:1},"spotlight.shown":{version:1},"spotlight.dismissed":{version:1},"spotlight.action_clicked":{version:1},"claudeai.conversation.citation_clicked":{version:1},"claudeai.cardamom_prompts.category_displayed":{version:1},"claudeai.cardamom_prompts.prompt_displayed":{version:1},"claudeai.cardamom_prompts.prompt_used":{version:1}},g=()=>{let{analytics:e}=(0,_.K)(),{preferences:n}=(0,d.C)(),{value:i}=(0,t.F)("log_segment_events"),{value:o}=(0,t.F)("claude_ai_segment_enabled"),{value:r}=(0,t.F)("send_email_to_segment"),{account:s,activeOrganization:g,isLoading:u}=(0,c.t)(),p=(0,l.Z)(),m=(0,a.useCallback)(t=>{var a,l;if(u)return;let{event_key:d,...c}=t,_={account_uuid:null==s?void 0:s.uuid,organization_uuid:null==g?void 0:g.uuid,billing_type:null==g?void 0:g.billing_type,surface:p?"claude-ai":"console",...v[d],...c},m={context:{traits:{email:r?null==s?void 0:s.email_address:null,userAgent:null===(l=window)||void 0===l?void 0:null===(a=l.navigator)||void 0===a?void 0:a.userAgent}}};if(i&&console.log("[Segment Event] ".concat(d),_,m),e&&o&&(p||s)&&(s||n.analytics))return e.track(d,_,m)},[e,s,g,p,u,i,o,r,n.analytics]);return(0,a.useMemo)(()=>({track:m}),[m])},u=(e,n,i,t)=>{let a=g(),{onSuccess:r,onError:l,...d}=t||{};return(0,s.uC)(n,i,{onSuccess(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];a.track({event_key:e,result:"success"}),null==r||r(...i)},onError(n){let i;for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];n instanceof o.Hx&&(i=n.type),a.track({event_key:e,result:"failure",failure_reason:i}),null==l||l(n,...r)},...d})},p=e=>{let{eventKey:n,threshold:i=.5,freezeOnceVisible:o=!0}=e,{track:t}=g(),{ref:s,isIntersecting:l}=(0,r.S1)({threshold:i,freezeOnceVisible:o});return(0,a.useEffect)(()=>{l&&t({event_key:n})},[l,t,n]),s}},50862:function(e,n,i){i.d(n,{ConsentProvider:function(){return u},C:function(){return p}});var o=i(27573),t=i(45144),a=i(7653),r=i(40287),s=i(94872),l=i(53500),d=i(6385),c=i(35919),_=i.n(c),v=i(95407);let g=(0,a.createContext)({showConsentBanner:!1,openConsentBanner:_(),preferences:v.iw,savePreferences:_()}),u=e=>{let{children:n,requiresExplicitConsent:i}=e,[c,_,u]=function(e,n){let i=(0,r.f)(),[o,s]=(0,a.useState)(()=>!!i.get(e)),[l,d]=(0,a.useState)(()=>{try{let o=i.get(e);return o?JSON.parse(o):n}catch(i){return(0,t.Tb)(i,{extra:{message:"Malformed JSON cookie",cookieKey:e}}),n}});return[l,(0,a.useCallback)(n=>{i.set(e,JSON.stringify(n)),d(n),s(!0)},[i,e]),o]}(d.cn.CONSENT_PREFERENCES,i?v.iw:v.DF),[p,m]=(0,a.useState)(i&&!u),b=(0,a.useCallback)(e=>{_(e),(0,s.HF)(e),m(!1),l.u.updateCategories(e)},[_,m]);return(0,o.jsx)(g.Provider,{value:{showConsentBanner:p,openConsentBanner:()=>m(!0),preferences:c,savePreferences:b},children:n})};function p(){return(0,a.useContext)(g)}},94872:function(e,n,i){i.d(n,{HF:function(){return a},bq:function(){return t}});var o=i(45144);let t=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),t=1;t<n;t++)i[t-1]=arguments[t];try{"function"==typeof window.gtag&&gtag(e,...i)}catch(e){(0,o.Tb)(e)}},a=e=>{t("consent","update",r(e))},r=e=>({ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"})},91447:function(e,n,i){i.d(n,{K:function(){return s}});var o=i(8571),t=i(14448),a=i(7653),r=i(53500);let s=()=>{let{segmentKey:e,segmentCdnHost:n,segmentApiHost:i}=(0,o.m)(),{value:s}=(0,t.F)("requires_explicit_consent"),l=(0,a.useCallback)(()=>{r.u.reset()},[]);return{analytics:r.u.loadIfNecessary({segmentKey:e,segmentCdnHost:n,segmentApiHost:i,requiresExplicitConsent:s}),reset:l}}}}]);